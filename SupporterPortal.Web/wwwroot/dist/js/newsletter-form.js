function d(i){const e=i,r=i.querySelector("#newsletterFeedback");!e||!r||e.addEventListener("submit",async o=>{if(o.preventDefault(),e.querySelectorAll(".is-invalid").forEach(t=>t.classList.remove("is-invalid")),e.querySelectorAll(".invalid-feedback").forEach(t=>t.textContent=""),r.innerHTML="",!e.checkValidity()){e.classList.add("was-validated");return}const l=new FormData(e);try{const a=await(await fetch("/api/subscribe",{method:"POST",body:l})).json();if(a.success)r.innerHTML=`<div class="alert alert-success">${a.message}</div>`,e.reset(),e.classList.remove("was-validated");else for(const n in a.errors){const s=e.querySelector(`[name="${n}"]`),c=s==null?void 0:s.nextElementSibling;s&&c&&(s.classList.add("is-invalid"),c.textContent=a.errors[n].join(", "))}}catch(t){console.error(t),r.innerHTML='<div class="alert alert-danger">Error submitting form.</div>'}})}export{d as default};
