function d(n){const e=n,s=n.querySelector("#newsletterFeedback");!e||!s||e.addEventListener("submit",async c=>{if(c.preventDefault(),e.querySelectorAll(".is-invalid").forEach(t=>t.classList.remove("is-invalid")),e.querySelectorAll(".invalid-feedback").forEach(t=>t.textContent=""),s.innerHTML="",!e.checkValidity()){e.classList.add("was-validated");return}const l=new FormData(e);try{const a=await(await fetch("/umbraco/surface/newsletterform/submit",{method:"POST",body:l})).json();if(a.success)s.innerHTML=`<div class="alert alert-success">${a.message}</div>`,e.reset(),e.classList.remove("was-validated");else for(const i in a.errors){const r=e.querySelector(`[name="${i}"]`),o=r==null?void 0:r.nextElementSibling;r&&o&&(r.classList.add("is-invalid"),o.textContent=a.errors[i].join(", "))}}catch(t){console.error(t),s.innerHTML='<div class="alert alert-danger">Error submitting form.</div>'}})}export{d as default};
