function S(f){var h;const o=f,C=o.dataset.searchTerm||"",E=((h=o.dataset.contentTypes)==null?void 0:h.split(","))||[],N=parseInt(o.dataset.pageSize||"6");let p=1;const r=document.createElement("div");r.classList.add("row","g-3"),o.appendChild(r);const i=document.createElement("nav");i.classList.add("mt-3"),o.appendChild(i);async function g(a){p=a;const s=new URLSearchParams({searchTerm:C,page:p.toString(),pageSize:N.toString(),contentTypes:E.join(",")}),e=await(await fetch(`/api/search?${s}`)).json();v(e),y(e)}function v(a){if(r.innerHTML="",!a.results.length){r.innerHTML='<div class="col-12"><p>No results found.</p></div>';return}const s=document.createDocumentFragment();a.results.forEach(t=>{const e=document.createElement("div");e.className="col-md-4";const c=document.createElement("div");if(c.className="card h-100",t.imageUrl){const m=document.createElement("img");m.className="card-img-top",m.src=t.imageUrl,m.alt=t.title,c.appendChild(m)}const n=document.createElement("div");n.className="card-body";const l=document.createElement("h5");l.className="card-title",l.textContent=t.title;const u=document.createElement("p");u.className="card-text",u.textContent=t.summary;const d=document.createElement("a");d.className="btn btn-primary",d.href=t.url,d.textContent="Read more",n.append(l,u,d),c.appendChild(n),e.appendChild(c),s.appendChild(e)}),r.appendChild(s)}function y(a){const s=Math.ceil(a.totalCount/a.pageSize);if(i.innerHTML="",s<=1)return;const t=document.createElement("ul");t.className="pagination";for(let e=1;e<=s;e++){const c=document.createElement("li");c.className=`page-item ${e===a.page?"active":""}`;const n=document.createElement("a");n.className="page-link",n.href="#",n.textContent=e.toString(),n.addEventListener("click",l=>{l.preventDefault(),e!==p&&g(e)}),c.appendChild(n),t.appendChild(c)}i.appendChild(t)}g(1)}export{S as default};
