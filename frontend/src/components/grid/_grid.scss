.umb-block-grid {
  display: flex;
  flex-wrap: wrap;

  &__layout-container {
    display: contents;

    /* Vertical spacing between top-level layout-items */
    > .umb-block-grid__layout-item {
      margin-bottom: 1.5rem; // spacing between items
      box-sizing: border-box;

      &:last-child {
        margin-bottom: 0;
      }
    }
  }

  &__layout-item {
    flex: 0 0 auto;
    width: calc(
      var(--umb-block-grid--item-column-span, 12) /
        var(--umb-block-grid--grid-columns, 12) * 100%
    );
    min-height: calc(var(--umb-block-grid--item-row-span, 1) * 1rem);
  }

  /* Horizontal and vertical spacing inside 2-column areas */
  &__area-container {
    display: flex;
    flex-wrap: wrap;
    margin-left: -0.75rem; /* half gutter negative to compensate for column margin */
    margin-right: -0.75rem;

    > .umb-block-grid__area {
      flex: 0 0 auto;
      width: calc(
        var(--umb-block-grid--area-column-span, 12) /
          var(--umb-block-grid--area-grid-columns, 12) * 100%
      );
      padding-left: 0.75rem; /* half gutter */
      padding-right: 0.75rem;
      margin-bottom: 1.5rem; /* vertical spacing between rows */

      &:last-child {
        margin-bottom: 0;
      }

      /* Vertical spacing between layout-items inside each column */
      > .umb-block-grid__layout-container > .umb-block-grid__layout-item {
        margin-bottom: 1rem;
        &:last-child {
          margin-bottom: 0;
        }
      }
    }
  }

  &__area {
    flex: 0 0 auto;
  }
}

/* Keep images responsive */
.umb-block-grid img {
  width: 100%;
  height: auto;
  object-fit: cover;
  display: block;
}

/* Responsive: stack on mobile */
@media (max-width: 768px) {
  .umb-block-grid__layout-item,
  .umb-block-grid__area {
    width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}
